const _0x18c5=['./panel/shared','child_process','process','path','log','exports','SELECT','CHILDREN','vi_cmd','BROTHER','PARENT','actionKeyCodesMap','targetKeyCodesMap','clearViCmd','showViCmd','Selection','curSelection','length','vi_action','name','send','SEND','vi_target','sendViCmd','vi_number','指令:','Ipc','magic_layout','calculating','funcMap','Scene','callSceneScript','场景闪电编:','场景闪电编:执行失败:','Panel','say-hello','select','c5XGe4LDxJrbVyQ9NnzaRM','79xggV3p5IxarvEOmum0CL','call_scene_func','start\x20\x22\x22\x20\x22https://yafacex.github.io/CocosCreatorPluginAllInOne/%E5%9C%BA%E6%99%AF%E9%97%AA%E7%94%B5%E7%BC%96/\x22','platform','start\x20\x22\x22\x20\x22http://store.cocos.com/#/resources/detail/2549\x22','start\x20\x22\x22\x20\x22https://jq.qq.com/?_wv=1027&k=umqus4cF\x22','init_keyboard','join','reply','version','onKeyDown','enable_keyboard'];const _0x3b7b=function(_0x18c525,_0x3b7b62){_0x18c525=_0x18c525-0x0;let _0x3e77ce=_0x18c5[_0x18c525];return _0x3e77ce;};const _0x46503e=_0x3b7b;'use strict';const {VI_ACTION,VI_TARGET}=require(_0x46503e('0x0')),{execSync}=require(_0x46503e('0x1'));let process=require(_0x46503e('0x2')),electron=require('electron'),path=require(_0x46503e('0x3')),fs=require('fs'),curSelects=[];function dump(_0x3e77ce){const _0x2b81d2=_0x46503e;for(const _0x31b70b in _0x3e77ce){Editor[_0x2b81d2('0x4')](_0x31b70b,_0x3e77ce[_0x31b70b]);}}let NO_NEED_SELECT_NODE={'select_by_prefix':!![]};module[_0x46503e('0x5')]={'load'(){this['initKeyboardConfig']();},'unload'(){},'calculating':![],'enable_keyboard':!![],'funcMap':{'vi_select_children':['vi_cmd',{'vi_action':VI_ACTION[_0x46503e('0x6')][0x0],'vi_target':VI_TARGET[_0x46503e('0x6')][_0x46503e('0x7')][0x0]}],'vi_select_brother':[_0x46503e('0x8'),{'vi_action':VI_ACTION[_0x46503e('0x6')][0x0],'vi_target':VI_TARGET[_0x46503e('0x6')][_0x46503e('0x9')][0x0]}],'vi_select_parent':[_0x46503e('0x8'),{'vi_action':VI_ACTION[_0x46503e('0x6')][0x0],'vi_target':VI_TARGET[_0x46503e('0x6')][_0x46503e('0xa')][0x0]}],'vi_select_all':['vi_cmd',{'vi_action':VI_ACTION[_0x46503e('0x6')][0x0],'vi_target':VI_TARGET['SELECT']['ALL'][0x0]}],'vi_select_inverse':[_0x46503e('0x8'),{'vi_action':VI_ACTION[_0x46503e('0x6')][0x0],'vi_target':VI_TARGET[_0x46503e('0x6')]['INVERSE'][0x0]}]},'actionKeyCodesMap':{},'targetKeyCodesMap':{},'vi_action':null,'vi_target':null,'vi_number':'','initKeyboardConfig'(){const _0x46e7e1=_0x46503e;this[_0x46e7e1('0xb')]={},this[_0x46e7e1('0xc')]={};for(const _0x1510b5 in VI_ACTION){let _0x7684fc=VI_ACTION[_0x1510b5],_0x5fd4dd=_0x7684fc[0x0],_0x318f6c=_0x7684fc[0x1],_0x530027=_0x7684fc[0x2];this['actionKeyCodesMap'][_0x318f6c]={'name':_0x5fd4dd,'send':_0x530027};}for(let _0x130685 in VI_TARGET){let _0x51859b=VI_ACTION[_0x130685][0x0],_0x21054a=VI_TARGET[_0x130685];this[_0x46e7e1('0xc')][_0x51859b]={};for(let _0x1df8cc in _0x21054a){let _0x555ad8=_0x21054a[_0x1df8cc],_0x3fe3ee=_0x555ad8[0x0],_0x3b549e=_0x555ad8[0x1],_0x29b8fe=_0x555ad8[0x2];this[_0x46e7e1('0xc')][_0x51859b][_0x3b549e]={'name':_0x3fe3ee,'send':_0x29b8fe};}}},'onKeyDown'(_0x27556c){const _0xeca325=_0x46503e;if(!this['enable_keyboard'])return;if(_0x27556c=='`'){this[_0xeca325('0xd')](),this[_0xeca325('0xe')](![]);return;}let _0x5bf0b1=Editor[_0xeca325('0xf')][_0xeca325('0x10')]('node');if(_0x5bf0b1[_0xeca325('0x11')]==0x0)return;if(this[_0xeca325('0x12')]==null){let _0x2ccee4=this[_0xeca325('0xb')][_0x27556c];_0x2ccee4&&(this[_0xeca325('0x12')]=_0x2ccee4[_0xeca325('0x13')],_0x2ccee4[_0xeca325('0x14')]==_0xeca325('0x15')?this['sendViCmd']():this[_0xeca325('0xe')]());}else{let _0x5db335=this[_0xeca325('0xc')][this[_0xeca325('0x12')]][_0x27556c];_0x5db335&&(this[_0xeca325('0x16')]=_0x5db335['name'],_0x5db335[_0xeca325('0x14')]==_0xeca325('0x15')?this[_0xeca325('0x17')]():this[_0xeca325('0xe')]());}},'clearViCmd'(){const _0x4dd6d9=_0x46503e;this[_0x4dd6d9('0x12')]=null,this[_0x4dd6d9('0x16')]=null,this[_0x4dd6d9('0x18')]='';},'showViCmd'(_0xac1d7b){const _0xd432da=_0x46503e;let _0x11b5a1=_0xd432da('0x19');this['vi_action']!=null&&(_0x11b5a1+=this[_0xd432da('0x12')]+'\x20');this[_0xd432da('0x16')]!=null&&(_0x11b5a1+=this[_0xd432da('0x16')]+'\x20');if(_0xac1d7b)_0x11b5a1+='<OK>';Editor[_0xd432da('0x1a')]['sendToPanel'](_0xd432da('0x1b'),'magic_layout:showViCmd',_0x11b5a1);},'sendViCmd'(){const _0x5086ff=_0x46503e;this[_0x5086ff('0xe')](!![]);let _0x1180fa={'vi_action':this[_0x5086ff('0x12')],'vi_target':this[_0x5086ff('0x16')],'vi_number':this[_0x5086ff('0x18')],'COMMIT':!![]};this['call_scene_func'](_0x5086ff('0x8'),_0x1180fa),this[_0x5086ff('0xd')]();},'call_scene_func'(_0x2327ad,_0x436dd4){const _0xfb5a63=_0x46503e;if(this[_0xfb5a63('0x1c')])return;let _0x49052c=Editor[_0xfb5a63('0xf')][_0xfb5a63('0x10')]('node');if(_0x49052c[_0xfb5a63('0x11')]>0x0||NO_NEED_SELECT_NODE[_0x2327ad]){this[_0xfb5a63('0x1c')]=!![];let _0x1d554b=this[_0xfb5a63('0x1d')][_0x2327ad];_0x1d554b&&(_0x2327ad=_0x1d554b[0x0],_0x436dd4=_0x1d554b[0x1]),Editor[_0xfb5a63('0x1e')][_0xfb5a63('0x1f')](_0xfb5a63('0x1b'),_0x2327ad,{'node_uuids':_0x49052c,'extra':_0x436dd4},(_0x3f6d1d,_0x3eaff8,_0x49126e,_0x38fcec)=>{const _0xdf4edf=_0xfb5a63;_0x3eaff8?(this['calculating']=![],Editor[_0xdf4edf('0x1a')]['sendToPanel'](_0xdf4edf('0x1b'),'magic_layout:onExecuteSceneScriptOK',_0x2327ad,_0x49126e),!_0x3eaff8&&_0x38fcec&&Editor['log'](_0xdf4edf('0x20')+_0x38fcec)):(Editor[_0xdf4edf('0x4')](_0xdf4edf('0x21'),_0x2327ad,_0x49126e),this['calculating']=![]);});}},'messages':{'open'(){const _0x2a175e=_0x46503e;Editor[_0x2a175e('0x22')]['open'](_0x2a175e('0x1b'));},'say-hello'(){const _0x3cd3b8=_0x46503e;Editor[_0x3cd3b8('0x4')](_0x3cd3b8('0x23')),Editor[_0x3cd3b8('0xf')][_0x3cd3b8('0x24')]('node',[_0x3cd3b8('0x25'),_0x3cd3b8('0x26')]);},'magic_layout:click_btn'(_0x5609d9,_0x58d585,_0x1e5ddc){const _0x3435bd=_0x46503e;this[_0x3435bd('0x27')](_0x58d585,_0x1e5ddc);},'magic_layout:help_doc'(_0x5955b8){const _0x48f769=_0x46503e;let _0x23ca84={'win32':_0x48f769('0x28'),'darwin':'open\x20\x22https://yafacex.github.io/CocosCreatorPluginAllInOne/%E5%9C%BA%E6%99%AF%E9%97%AA%E7%94%B5%E7%BC%96/\x22'};execSync(_0x23ca84[process[_0x48f769('0x29')]]);},'magic_layout:open_store'(_0x286c46){const _0x472394=_0x46503e;let _0x4ab057={'win32':_0x472394('0x2a'),'darwin':'open\x20\x22http://store.cocos.com/#/resources/detail/2549\x22'};execSync(_0x4ab057[process[_0x472394('0x29')]]);},'magic_layout:join_qq_group'(_0x52f3a4){const _0x55b340=_0x46503e;let _0x30d265={'win32':_0x55b340('0x2b'),'darwin':'open\x20\x22https://jq.qq.com/?_wv=1027&k=umqus4cF\x22'};execSync(_0x30d265[process[_0x55b340('0x29')]]);},'scene:ready'(_0x35abd6){const _0x2d7523=_0x46503e;Editor[_0x2d7523('0x1e')][_0x2d7523('0x1f')](_0x2d7523('0x1b'),_0x2d7523('0x2c'),_0x2d79e7=>{});},'magic_layout:panel_ready'(){},'magic_layout:get_version'(_0x282e8f){const _0x455f0f=_0x46503e;let _0x18f67a=path[_0x455f0f('0x2d')](__dirname,'package.json'),_0x252d6a=JSON['parse'](fs['readFileSync'](_0x18f67a));_0x282e8f[_0x455f0f('0x2e')](_0x252d6a[_0x455f0f('0x2f')]);},'magic_layout:keydown'(_0x449590,_0x5c59b6){const _0x11f684=_0x46503e;this[_0x11f684('0x30')](_0x5c59b6);},'magic_layout:enable_keyboard'(_0x54a522,_0x414410){const _0x73a77=_0x46503e;Editor[_0x73a77('0x4')](_0x73a77('0x31'),_0x414410),this[_0x73a77('0x31')]=_0x414410;}}};