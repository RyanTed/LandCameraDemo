const _0xdb1d=['fire-fs','https','packages://','/panel/shared.js','extend','readFileSync','packages://magic_layout/panel/index.css','utf-8','url','packages://magic_layout/panel/index.html','#new_version_tip','#selected_nodes_count','#enable_keyboard','#copy_attr_node','#copy_attr_x','#copy_attr_y','#copy_attr_anchor','#copy_attr_angle','#copy_attr_scale','#copy_attr_btn','#batch_rename_with_prefix_id_btn','#batch_rename_with_prefix_id_prefix','#batch_rename_with_prefix_id_startnum','#batch_rename_with_prefix_id_reserved','#batch_rename_with_prefix_id_reverseorder','#batch_rename_with_prefix_id_groupByParent','#horizon_equaldistance_btn','#horizon_equaldistance_distance','#vertical_equaldistance_btn','#vertical_equaldistance_distance','#vertical_align_btn','#sort_with_position_x_btn','#sort_with_position_x_check','#sort_with_position_y_btn','#sort_with_position_y_check','#sort_reverse_order_btn','#fan_layout_btn','#fan_layout_radius','#fan_layout_radiusDelta','#fan_layout_startangle','#fan_layout_faceToCenter','#fan_layout_faceToCenterAngle','#fan_layout_inWorldCoord','#grid_layout_btn','#grid_layout_row','#grid_layout_deltaX','#grid_layout_deltaY','#grid_layout_gradX','#grid_layout_gradY','#grid_layout_dirVertical','#grid_layout_columFirst','#grid_layout_inWorldCoord','#drop_for_add_images_area','#drop_for_replace_texture_area','#paste_nodes_each_btn','#select_by_prefix_input','#select_by_prefix_btn','#vi_select_children_btn','#vi_select_parent_btn','#vi_select_all_btn','#vi_reset_everything_btn','#vi_reset_rotation_btn','#vi_reset_anchor_btn','#vi_reset_scale_btn','#vi_reset_x_btn','#align_to_screen_right_btn','#align_to_screen_top_btn','#align_to_screen_bottom_btn','#align_to_screen_center_btn','#align_contentSize_to_boundingBox_btn','#align_to_parent_right_btn','#align_to_parent_bottom_btn','#align_to_parent_center_btn','#swap_position_btn','#align_nearest_edge_horizon_btn','#align_nearest_edge_vertical_btn','#many_to_many_tip_number_of_cache','#many_to_many_moveto_btn','#many_to_many_cache_btn','#revert_all_prefabs_in_scene_autosync_btn','#revert_prefabs_of_selected_autosync_btn','#new_created_prefab_node_set_autosync','#join_qq_group','$vi_cmds','innerText','get','statusCode','data','end','replace','Ipc','sendToMain','log','场景闪电编当前版本[','],新版本[','$new_version_tip','hidden','addEventListener','click','magic_layout:open_store','error','magic_layout:help_doc','magic_layout:join_qq_group','change','value','startsWith','_btn','substr','endsWith','length','push','extra_props','key','layoutName','extra_keys','magic_layout:click_btn','$drop_for_add_images_area','add_images_as_child','addDrag','$drop_for_replace_texture_area','replace_images','magic_layout:panel_ready','preventDefault','items','dataTransfer','assetType','type','texture','dragOver','stopPropagation','dragEnter','reply','Selection','node','$selected_nodes_count','$new_created_prefab_node_set_autosync','revert_prefabs_of_selected_autosync','curSelection','已选节点个数:','many_to_many_cache','$many_to_many_tip_number_of_cache','缓存节点:个数'];const _0x5acf=function(_0xdb1df,_0x5acff8){_0xdb1df=_0xdb1df-0x0;let _0x420731=_0xdb1d[_0xdb1df];return _0x420731;};const _0x118aee=_0x5acf;let fs=require(_0x118aee('0x0')),http=require(_0x118aee('0x1')),packageName='magic_layout',{VI_ACTION:VI_ACTION,VI_TARGET}=Editor['require'](_0x118aee('0x2')+packageName+_0x118aee('0x3'));Editor['Panel'][_0x118aee('0x4')]({'style':fs[_0x118aee('0x5')](Editor['url'](_0x118aee('0x6')),_0x118aee('0x7')),'template':fs[_0x118aee('0x5')](Editor[_0x118aee('0x8')](_0x118aee('0x9')),_0x118aee('0x7')),'$':{'help_doc':'#help_doc','new_version_tip':_0x118aee('0xa'),'vi_cmds':'#vi_cmds','selected_nodes_count':_0x118aee('0xb'),'enable_keyboard':_0x118aee('0xc'),'copy_attr_node':_0x118aee('0xd'),'copy_attr_x':_0x118aee('0xe'),'copy_attr_y':_0x118aee('0xf'),'copy_attr_anchor':_0x118aee('0x10'),'copy_attr_angle':_0x118aee('0x11'),'copy_attr_scale':_0x118aee('0x12'),'copy_attr_btn':_0x118aee('0x13'),'batch_rename_with_prefix_id_btn':_0x118aee('0x14'),'batch_rename_with_prefix_id_prefix':_0x118aee('0x15'),'batch_rename_with_prefix_id_startnum':_0x118aee('0x16'),'batch_rename_with_prefix_id_reserved':_0x118aee('0x17'),'batch_rename_with_prefix_id_reverseorder':_0x118aee('0x18'),'batch_rename_with_prefix_id_notsuffix':'#batch_rename_with_prefix_id_notsuffix','batch_rename_with_prefix_id_groupByParent':_0x118aee('0x19'),'batch_rename_shift_btn':'#batch_rename_shift_btn','horizon_equaldistance_btn':_0x118aee('0x1a'),'horizon_equaldistance_distance':_0x118aee('0x1b'),'vertical_equaldistance_btn':_0x118aee('0x1c'),'vertical_equaldistance_distance':_0x118aee('0x1d'),'vertical_align_btn':_0x118aee('0x1e'),'horizon_align_btn':'#horizon_align_btn','sort_with_position_x_btn':_0x118aee('0x1f'),'sort_with_position_x_check':_0x118aee('0x20'),'sort_with_position_y_btn':_0x118aee('0x21'),'sort_with_position_y_check':_0x118aee('0x22'),'sort_reverse_order_btn':_0x118aee('0x23'),'fan_layout_btn':_0x118aee('0x24'),'fan_layout_angle':'#fan_layout_angle','fan_layout_radius':_0x118aee('0x25'),'fan_layout_radiusDelta':_0x118aee('0x26'),'fan_layout_startangle':_0x118aee('0x27'),'fan_layout_anticlockwise':'#fan_layout_anticlockwise','fan_layout_faceToCenter':_0x118aee('0x28'),'fan_layout_faceToCenterAngle':_0x118aee('0x29'),'fan_layout_inWorldCoord':_0x118aee('0x2a'),'grid_layout_btn':_0x118aee('0x2b'),'grid_layout_row':_0x118aee('0x2c'),'grid_layout_col':'#grid_layout_col','grid_layout_deltaX':_0x118aee('0x2d'),'grid_layout_deltaY':_0x118aee('0x2e'),'grid_layout_gradX':_0x118aee('0x2f'),'grid_layout_gradY':_0x118aee('0x30'),'grid_layout_dirVertical':_0x118aee('0x31'),'grid_layout_dirHorizon':'#grid_layout_dirHorizon','grid_layout_columFirst':_0x118aee('0x32'),'grid_layout_inWorldCoord':_0x118aee('0x33'),'drop_for_add_images_area':_0x118aee('0x34'),'drop_for_replace_texture_area':_0x118aee('0x35'),'paste_nodes_each_btn':_0x118aee('0x36'),'select_by_prefix_input':_0x118aee('0x37'),'select_by_prefix_btn':_0x118aee('0x38'),'vi_select_children_btn':_0x118aee('0x39'),'vi_select_brother_btn':'#vi_select_brother_btn','vi_select_parent_btn':_0x118aee('0x3a'),'vi_select_all_btn':_0x118aee('0x3b'),'vi_select_inverse_btn':'#vi_select_inverse_btn','vi_reset_everything_btn':_0x118aee('0x3c'),'vi_reset_position_btn':'#vi_reset_position_btn','vi_reset_rotation_btn':_0x118aee('0x3d'),'vi_reset_anchor_btn':_0x118aee('0x3e'),'vi_reset_scale_btn':_0x118aee('0x3f'),'vi_reset_x_btn':_0x118aee('0x40'),'vi_reset_y_btn':'#vi_reset_y_btn','align_to_screen_left_btn':'#align_to_screen_left_btn','align_to_screen_right_btn':_0x118aee('0x41'),'align_to_screen_top_btn':_0x118aee('0x42'),'align_to_screen_bottom_btn':_0x118aee('0x43'),'align_to_screen_center_btn':_0x118aee('0x44'),'align_contentSize_to_boundingBox_btn':_0x118aee('0x45'),'align_to_parent_left_btn':'#align_to_parent_left_btn','align_to_parent_right_btn':_0x118aee('0x46'),'align_to_parent_top_btn':'#align_to_parent_top_btn','align_to_parent_bottom_btn':_0x118aee('0x47'),'align_to_parent_center_btn':_0x118aee('0x48'),'swap_position_btn':_0x118aee('0x49'),'align_nearest_edge_horizon_btn':_0x118aee('0x4a'),'align_nearest_edge_vertical_btn':_0x118aee('0x4b'),'many_to_many_tip_number_of_cache':_0x118aee('0x4c'),'many_to_many_moveto_btn':_0x118aee('0x4d'),'many_to_many_cache_btn':_0x118aee('0x4e'),'revert_all_prefabs_in_scene_autosync_btn':_0x118aee('0x4f'),'revert_prefabs_of_selected_autosync_btn':_0x118aee('0x50'),'revert_prefabs_of_related_autosync_btn':'#revert_prefabs_of_related_autosync_btn','new_created_prefab_node_set_autosync':_0x118aee('0x51'),'join_qq_group':_0x118aee('0x52')},'showViCmd'(_0x420731){const _0x2c4434=_0x118aee;this[_0x2c4434('0x53')][_0x2c4434('0x54')]=_0x420731;},'ready'(){const _0x1ab5c6=_0x118aee;let _0x51a570='https://yafacex.github.io/CocosCreatorPluginAllInOne/%E5%9C%BA%E6%99%AF%E9%97%AA%E7%94%B5%E7%BC%96/version';http[_0x1ab5c6('0x55')](_0x51a570,_0x7b6598=>{const _0x651aea=_0x1ab5c6;if(_0x7b6598[_0x651aea('0x56')]==0xc8){let _0x3a25a7='';_0x7b6598['on'](_0x651aea('0x57'),_0x16a2e5=>{_0x3a25a7+=_0x16a2e5;}),_0x7b6598['on'](_0x651aea('0x58'),()=>{const _0x479eb1=_0x651aea;let _0x1cb86e=_0x3a25a7[_0x479eb1('0x59')](/\s/g,'');Editor[_0x479eb1('0x5a')][_0x479eb1('0x5b')]('magic_layout:get_version',_0x2b7de0=>{const _0x47285b=_0x479eb1;_0x1cb86e!=_0x2b7de0&&(Editor[_0x47285b('0x5c')](_0x47285b('0x5d')+_0x2b7de0+_0x47285b('0x5e')+_0x1cb86e+']'),this[_0x47285b('0x5f')][_0x47285b('0x60')]=![],this['$new_version_tip'][_0x47285b('0x61')](_0x47285b('0x62'),()=>{const _0x47d5c1=_0x47285b;Editor[_0x47d5c1('0x5a')]['sendToMain'](_0x47d5c1('0x63'));}));});});}})['on'](_0x1ab5c6('0x64'),_0x5eaf5f=>{}),this['$help_doc'][_0x1ab5c6('0x61')](_0x1ab5c6('0x62'),()=>{const _0x33f3a2=_0x1ab5c6;Editor['Ipc'][_0x33f3a2('0x5b')](_0x33f3a2('0x65'));}),this['$join_qq_group'][_0x1ab5c6('0x61')](_0x1ab5c6('0x62'),()=>{const _0x3b369e=_0x1ab5c6;Editor[_0x3b369e('0x5a')][_0x3b369e('0x5b')](_0x3b369e('0x66'));}),this['$enable_keyboard'][_0x1ab5c6('0x61')](_0x1ab5c6('0x67'),()=>{const _0x501d2e=_0x1ab5c6;Editor['Ipc'][_0x501d2e('0x5b')]('magic_layout:enable_keyboard',this['$enable_keyboard'][_0x501d2e('0x68')]);});let _0x4c1ca7={};for(let _0xd1eb6e in this){if(_0xd1eb6e[_0x1ab5c6('0x69')]('$')&&_0xd1eb6e['endsWith'](_0x1ab5c6('0x6a'))){let _0x557c8b=_0xd1eb6e['lastIndexOf']('_btn'),_0x32c5ff=_0xd1eb6e[_0x1ab5c6('0x6b')](0x0,_0x557c8b),_0x26f708=_0xd1eb6e[_0x1ab5c6('0x6b')](0x1,_0x557c8b-0x1);_0x4c1ca7[_0x32c5ff]=_0x4c1ca7[_0x32c5ff]||{'key':_0xd1eb6e,'layoutName':_0x26f708,'extra_keys':[],'extra_props':[]};}}for(let _0x32fe0d in this){let _0x3bc809=_0x32fe0d['lastIndexOf']('_');if(_0x3bc809>0x0&&!_0x32fe0d[_0x1ab5c6('0x6c')](_0x1ab5c6('0x6a'))){let _0x2dbd91=_0x32fe0d[_0x1ab5c6('0x6b')](0x0,_0x3bc809);if(_0x4c1ca7[_0x2dbd91]){let _0x3f862a=_0x32fe0d[_0x1ab5c6('0x6b')](_0x2dbd91[_0x1ab5c6('0x6d')]+0x1);_0x4c1ca7[_0x2dbd91]['extra_keys'][_0x1ab5c6('0x6e')](_0x3f862a);let _0x1a28da=this[_0x32fe0d];_0x4c1ca7[_0x2dbd91][_0x1ab5c6('0x6f')][_0x1ab5c6('0x6e')](_0x1a28da);}}}for(let _0x47de74 in _0x4c1ca7){let _0x422ed1=_0x4c1ca7[_0x47de74],_0xd37f98=this[_0x422ed1[_0x1ab5c6('0x70')]],_0x205d84=_0x422ed1[_0x1ab5c6('0x71')],_0x553d48=_0x422ed1[_0x1ab5c6('0x72')],_0x3101e1=_0x422ed1['extra_props'],_0x504469=()=>{const _0x165cf8=_0x1ab5c6;let _0xc25b95={'COMMIT':![]};for(let _0x48d514=0x0;_0x48d514<_0x553d48['length'];++_0x48d514){_0xc25b95[_0x553d48[_0x48d514]]=_0x3101e1[_0x48d514]['value'];}Editor[_0x165cf8('0x5a')][_0x165cf8('0x5b')](_0x165cf8('0x73'),_0x205d84,_0xc25b95);},_0x25f3e4=()=>{const _0x3902d2=_0x1ab5c6;let _0x27b7c9={'COMMIT':!![]};for(let _0x2dc51e=0x0;_0x2dc51e<_0x553d48[_0x3902d2('0x6d')];++_0x2dc51e){_0x27b7c9[_0x553d48[_0x2dc51e]]=_0x3101e1[_0x2dc51e][_0x3902d2('0x68')];}Editor[_0x3902d2('0x5a')][_0x3902d2('0x5b')](_0x3902d2('0x73'),_0x205d84,_0x27b7c9);};_0xd37f98['addEventListener']('confirm',_0x25f3e4);for(const _0x4064d8 of _0x3101e1){_0x4064d8[_0x1ab5c6('0x61')](_0x1ab5c6('0x67'),_0x504469),_0x4064d8[_0x1ab5c6('0x61')]('confirm',_0x25f3e4);}}this['addDrag'](this[_0x1ab5c6('0x74')],_0x505ade=>{const _0x520bcb=_0x1ab5c6;let _0x4a241d={'allAssets':_0x505ade};Editor['Ipc'][_0x520bcb('0x5b')]('magic_layout:click_btn',_0x520bcb('0x75'),_0x4a241d);}),this[_0x1ab5c6('0x76')](this[_0x1ab5c6('0x77')],_0x19e4be=>{const _0x4675c6=_0x1ab5c6;let _0x3a1116={'allAssets':_0x19e4be};Editor['Ipc'][_0x4675c6('0x5b')]('magic_layout:click_btn',_0x4675c6('0x78'),_0x3a1116);}),Editor[_0x1ab5c6('0x5a')][_0x1ab5c6('0x5b')](_0x1ab5c6('0x79'));},'addDrag'(_0x2f6f9f,_0x48a7fa){const _0x26386d=_0x118aee;_0x2f6f9f['drop_for_add_images']=_0x43c58e=>{const _0x28cdf8=_0x5acf;_0x43c58e[_0x28cdf8('0x7a')]();let _0x29c005=Editor['UI']['DragDrop'][_0x28cdf8('0x7b')](_0x43c58e[_0x28cdf8('0x7c')]),_0x27899d=[];for(let _0x5b756c of _0x29c005){let _0x4751e4=_0x5b756c[_0x28cdf8('0x7d')]||_0x5b756c[_0x28cdf8('0x7e')];_0x4751e4==_0x28cdf8('0x7f')&&_0x27899d[_0x28cdf8('0x6e')](_0x5b756c['id']);}_0x27899d[_0x28cdf8('0x6d')]>0x0&&_0x48a7fa(_0x27899d);},_0x2f6f9f[_0x26386d('0x80')]=_0x51d924=>{const _0x579560=_0x26386d;_0x51d924['preventDefault'](),_0x51d924[_0x579560('0x81')]();},_0x2f6f9f[_0x26386d('0x82')]=_0x4de92d=>{const _0x1b165a=_0x26386d;_0x4de92d[_0x1b165a('0x7a')](),_0x4de92d[_0x1b165a('0x81')]();},_0x2f6f9f['dragLeave']=_0x528840=>{const _0x5d4e60=_0x26386d;_0x528840[_0x5d4e60('0x7a')]();};},'messages':{'magic_layout:inVimMode'(_0xda531f,_0x262344){const _0x2d4efd=_0x118aee;this['inVimMode']=_0x262344,_0xda531f[_0x2d4efd('0x83')]();},'selection:selected'(_0x291451,_0x2c12fb){const _0x5b7a69=_0x118aee;if(_0x2c12fb=='node'){let _0x84b0cc=Editor[_0x5b7a69('0x84')]['curSelection'](_0x5b7a69('0x85'));this[_0x5b7a69('0x86')]['innerText']='已选节点个数:'+_0x84b0cc['length'],_0x84b0cc[_0x5b7a69('0x6d')]==0x1&&(this[_0x5b7a69('0x87')][_0x5b7a69('0x68')]&&Editor['Ipc'][_0x5b7a69('0x5b')]('magic_layout:click_btn',_0x5b7a69('0x88'),{'COMMIT':!![]}));}},'selection:unselected'(_0x32131f,_0x1eb6b1){const _0x138ad5=_0x118aee;if(_0x1eb6b1==_0x138ad5('0x85')){let _0x59c039=Editor[_0x138ad5('0x84')][_0x138ad5('0x89')]('node');this[_0x138ad5('0x86')]['innerText']=_0x138ad5('0x8a')+_0x59c039['length'];}},'magic_layout:showViCmd'(_0x1c29c2,_0x142a72){this['showViCmd'](_0x142a72);},'magic_layout:onExecuteSceneScriptOK'(_0x5747bb,_0x3f53a0,_0x1d5c27){const _0x1cf3ab=_0x118aee;_0x3f53a0==_0x1cf3ab('0x8b')&&(this[_0x1cf3ab('0x8c')][_0x1cf3ab('0x54')]=_0x1cf3ab('0x8d')+_0x1d5c27);}}});